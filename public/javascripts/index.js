// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var $articleListUrl, $articleTemplate, $mycontent;
    $articleListUrl = $('[role="content"]').data("url");
    $articleTemplate = $("article");
    $mycontent = $('[role="content"]');
    $("article").remove();
    return $.ajax({
      url: $articleListUrl,
      type: "get",
      dataType: "json"
    }).done(function(data) {
      console.log("request is done");
      return $.each(data, function(idx, dat) {
        var $article;
        $article = $articleTemplate.clone();
        $article.find("h3 a").attr({
          href: dat.slug,
          text: dat.title
        });
        $article.find("h3 a").text(dat.title);
        $article.find("h6 span").text(new Date(dat.date.year, dat.date.month, dat.date.day));
        $article.append(dat.body).append("<hr>");
        return $mycontent.append($article);
      });
    });
  });

}).call(this);
